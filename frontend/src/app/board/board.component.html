<div class="board-wrapper">
  <div
    #board
    id="board"
  >
    <ng-container
      *ngFor="let piece of boardService.pieces$ | async; index as i"
    >
      <piece
        *ngIf="piece"
        [position]="{ x: i % 8, y: toInt(i / 8) }"
        [pieceProperties]="piece"
        [boardWidth]="boardWidth"
        (onDragStart)="showMoves($event)"
        (onDragStop)="clearMoves()"
        (onMove)="onMove($event)"
      ></piece>
    </ng-container>
    <potential-move
      *ngFor="let move of potentialMoves"
      [position]="{ x: move % 8, y: move / 8 }"
    ></potential-move>
    <div class="ranks">
      <div
        class="rank"
        *ngFor="
          let i of (boardService.whitePOV$ | async)
            ? [8, 7, 6, 5, 4, 3, 2, 1]
            : [1, 2, 3, 4, 5, 6, 7, 8]
        "
      >
        {{ i }}
      </div>
    </div>
    <div class="files">
      <div
        class="file"
        *ngFor="
          let i of (boardService.whitePOV$ | async)
            ? ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']
            : ['h', 'g', 'f', 'e', 'd', 'c', 'b', 'a']
        "
      >
        {{ i }}
      </div>
    </div>
  </div>
  <tool-box></tool-box>
</div>
